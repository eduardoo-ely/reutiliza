<!-- Modal de Cadastro/Edição de Ponto de Coleta -->
<div class="modal" [class.modal-aberto]="modalAberto">
  <div class="modal-conteudo">
    <h2>{{ pontoEmEdicao ? 'Editar' : 'Cadastrar' }} Ponto de Coleta</h2>
    
    <form [formGroup]="pontoForm" (ngSubmit)="salvarPonto()">
      <div class="form-group">
        <label for="nome">Nome do Local</label>
        <input type="text" id="nome" formControlName="nome" placeholder="Ex: Ecoponto Vila Mariana">
        <div *ngIf="pontoForm.get('nome')?.invalid && pontoForm.get('nome')?.touched" class="erro-validacao">
          Nome é obrigatório e deve ter pelo menos 3 caracteres
        </div>
      </div>
      
      <div class="form-group">
        <label>Materiais Aceitos</label>
        <div class="lista-materiais" formArrayName="materiais">
          <div *ngFor="let material of materiaisDisponiveis; let i = index" class="material-item">
            <label>
              <input type="checkbox" [formControlName]="i">
              {{ material }}
            </label>
          </div>
        </div>
      </div>
      
      <div class="form-group coordenadas">
        <div>
          <label for="latitude">Latitude</label>
          <input type="number" id="latitude" formControlName="latitude" readonly>
        </div>
        <div>
          <label for="longitude">Longitude</label>
          <input type="number" id="longitude" formControlName="longitude" readonly>
        </div>
      </div>
      
      <div class="acoes">
        <button type="button" class="btn-cancelar" (click)="fecharModal()">Cancelar</button>
        <button type="submit" class="btn-salvar" [disabled]="pontoForm.invalid">Salvar</button>
      </div>
    </form>
  </div>
</div>