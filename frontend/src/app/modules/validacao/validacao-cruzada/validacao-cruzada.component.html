<div class="validacao-container">
    <h2>âœ… ValidaÃ§Ã£o de Materiais Recebidos</h2>

    <div class="alert" [ngClass]="{'alert-success': tipoMensagem === 'sucesso', 'alert-danger': tipoMensagem === 'erro', 'alert-info': tipoMensagem === 'info'}" *ngIf="mensagem">
        {{ mensagem }}
    </div>

    <div class="loading-spinner" *ngIf="carregando">
        <div class="spinner"></div>
        <p>Carregando validaÃ§Ãµes pendentes...</p>
    </div>

    <div class="empty-state" *ngIf="!carregando && validacoesPendentes.length === 0">
        <div class="empty-icon">âœ“</div>
        <h3>Nenhuma validaÃ§Ã£o pendente</h3>
        <p>VocÃª nÃ£o possui materiais pendentes para validaÃ§Ã£o no momento.</p>
    </div>

    <div class="validacoes-list" *ngIf="!carregando && validacoesPendentes.length > 0">
        <div class="validacao-card" *ngFor="let validacao of validacoesPendentes">
            <div class="validacao-header">
                <h3>ValidaÃ§Ã£o #{{ validacao._id?.substring(0, 8) }}</h3>
                <span class="badge badge-warning">Pendente</span>
            </div>

            <div class="validacao-body">
                <div class="material-info">
                    <div class="info-row">
                        <span class="info-label">â™»ï¸ Material:</span>
                        <span class="info-value">{{ getMaterialTipo(validacao) }}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">âš–ï¸ Quantidade:</span>
                        <span class="info-value">{{ getMaterialQuantidade(validacao) }}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">ğŸ‘¤ Entregue por:</span>
                        <span class="info-value">{{ getUsuarioNome(validacao) }}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">ğŸ“ Ponto de Coleta:</span>
                        <span class="info-value">{{ getPontoNome(validacao) }}</span>
                    </div>
                    <div class="info-row">
                        <span class="info-label">ğŸ“… Data de Entrega:</span>
                        <span class="info-value">{{ formatarData(getMaterialDataRegistro(validacao)) }}</span>
                    </div>
                    <div class="info-row" *ngIf="getMaterialObservacoes(validacao)">
                        <span class="info-label">ğŸ“ ObservaÃ§Ãµes:</span>
                        <span class="info-value">{{ getMaterialObservacoes(validacao) }}</span>
                    </div>
                </div>

                <div class="validacao-form">
                    <div class="form-group">
                        <label for="observacoes-{{validacao._id}}">ObservaÃ§Ãµes (opcional):</label>
                        <textarea id="observacoes-{{validacao._id}}" class="form-control" rows="2" #observacoes placeholder="Adicione observaÃ§Ãµes sobre esta validaÃ§Ã£o..."></textarea>
                    </div>

                    <div class="validacao-actions">
                        <button class="btn btn-danger" (click)="confirmarValidacao(validacao, false, observacoes.value)">
                            âŒ Rejeitar
                        </button>
                        <button class="btn btn-success" (click)="confirmarValidacao(validacao, true, observacoes.value)">
                            âœ… Confirmar Recebimento
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>